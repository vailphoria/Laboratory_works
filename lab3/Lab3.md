МИНИСТЕРСТВО НАУКИ  И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ  
Федеральное государственное автономное образовательное учреждение высшего образования  
"КРЫМСКИЙ ФЕДЕРАЛЬНЫЙ УНИВЕРСИТЕТ им. В. И. ВЕРНАДСКОГО"  
ФИЗИКО-ТЕХНИЧЕСКИЙ ИНСТИТУТ  
Кафедра компьютерной инженерии и моделирования
<br/><br/>

### Отчёт по лабораторной работе №3<br/> по дисциплине "Программирование"
<br/>

студентки 1 курса группы ПИ-б-о-191(2)  
Забелиной Валерии Павловны
направления подготовки 09.03.04 "Программная инженерия"  
<br/>

<table>
<tr><td>Научный руководитель<br/> старший преподаватель кафедры<br/> компьютерной инженерии и моделирования</td>
<td>(оценка)</td>
<td>Чабанов В.В.</td>
</tr>
</table>
<br/><br/>

Симферополь, 2019

## Лабораторная работа №3
Дешифровка текста из изображения\
\
**Цель:** 
1. Закрепить навыки разработки программ использующих операторы цикла.
2. Закрепить навыки разработки программ использующих массивы.
3. Освоить методы подключения сторонних библиотек.
\
**Ход работы:**\
**1\.** Для работы с изображениями в формате bmp скачаем библиотеку с github.\
**2\.** В скаченном репозитории находим папку CPP, в ней расположены файлы которые нужно подключить к своему проекту.\
**3\.** Файл libbmp.cpp скопируем в папку проекта и добавим к проекту.\
![Рис.1 Добавление элемента](https://raw.githubusercontent.com/vailphoria/Laboratory_works/master/lab3/Images_for_lab1/1.png)
*рис.1: Добавление элемента*\
\
**4\.** В папке с проектом создаем папку include и скопируем туда libbmp.h\
**5\.** Добавим папку include к нашему проекту.\
![Рис.2 Добавление и подключение папки include](https://raw.githubusercontent.com/vailphoria/Laboratory_works/master/lab3/Images_for_lab1/2.PNG)
*рис.2: Добавление и подключение папки include*\
\
**6\.** В соответствии с вариантом качаем картинку и берем ключ для нее.\
Ключ для 5го варианта: 11r 11b 11g 01r 01b 01g 10r 10b\
![Рис.3 Картинка пятого варианта](https://raw.githubusercontent.com/vailphoria/Laboratory_works/master/lab3/Images_for_lab1/pic5.bmp)\
*рис.3: Картинка пятого варианта*\
\
**7\.** Для решение поставленной задачи пишем код:
```c++
#include <iostream>
#include "libbmp.h"

short Bit = 7;  // Переменная, хранящая номер текущего читаемого бита
short Byte = 0; // Переменная, хранящая номер текущего читаемого байта
char text[4000]; // Массив, хронящий полученный текст

bool end = false;

void addBit(char bit)  // Добавляем новый бит в строку
{
	if (end) return;

	// Установка бита в нужную позицию при помощи сдвига
	text[Byte] |= bit << Bit--;

	// Переход к следующему байту
	if (Bit < 0)
	{
		if (text[Byte] == '\0')
		{
			end = true;
		}

		Bit = 7;
		Byte++;
	}
}

int main()
{

	BmpImg pic;
	pic.read("pic5.bmp");
	
	for (int y = pic.get_height() - 1; y >= 0; y--)  // 11r 11b 11g 01r 01b 01g 10r 10b
	{
		for (int x = pic.get_width() - 1; x >= 0; x--)
		{

			uint8_t bit1 = pic.red_at(x, y) & 0b1;
			uint8_t bit2 = pic.blue_at(x, y) & 0b1;
			uint8_t bit3 = pic.green_at(x, y) & 0b1;

			addBit(bit1); addBit(bit2); addBit(bit3);

			if (end) break;
		}

		if (end) break;
	}

	std::cout << text<<"\n";
}
```
**8\.** Получаем ответ.\
![Рис.3 Результат работы программы](https://raw.githubusercontent.com/vailphoria/Laboratory_works/master/lab3/Images_for_lab1/3.PNG)\
*рис.3: Результат работы программы*\
\
**Вывод:** в ходе выполнения данной лабораторной работы приобрела навыки подключения сторонних библиотек и научилась декодировать текст из изображения.

